{% extends 'base.html.twig' %}

{% block stylesheets %}
	{{ parent() }}
	<link href="{{ asset('css/swac-recorder.css') }}" rel="stylesheet" />
{% endblock %}

{% block javascript %}
	{{ parent() }}
	<script type="text/javascript" src="{{ asset('js/common.min.js') }}"></script>
	<script type="text/javascript">
		window.onload = function() {
			studio = new StudioWidget({{ user.getId() }}, "{{ path('soundsApi') }}", document.getElementById('addSpeaker') );
			studio.setSpeakers({{(speakers|json_encode|raw)}});
			var container = document.getElementById('container');
			container.parentNode.replaceChild(studio.node, container);
		};
	</script>
{% endblock %}

{% block body %}
	<h1>Studio dâ€™enregistrement</h1>
	<div id="container">
		<table>
			<tr>
				<th id="addSpeaker"><a href="{{ path("usersAddSpeaker", {"id": user.getId() }) }}"><img src="{{ asset("img/add_24.png") }}" title="Ajouter un locuteur"/></a></th>
			</tr>
		</table>
	</div>
{% endblock %}

